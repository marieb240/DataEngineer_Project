{% extends "base.html" %}

{% block title %}Accueil - VidIQ Analytics{% endblock %}

{% block content %}

<h1 class="mb-4">Accueil</h1>
<p class="text-secondary mb-5">
Bienvenue dans notre projet Data Engineer ! Nous avons choisi dâ€™explorer et dâ€™analyser les donnÃ©es des 100 chaÃ®nes YouTube les plus populaires au monde.
</p>

<!-- KPI CARDS -->
<div class="row g-4 mb-5">

    <div class="col-md-4">
        <div class="card-dark">
            <div class="text-secondary">ChaÃ®nes scrapÃ©es</div>
            <div class="stat-number">{{ stats.total_channels }}</div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card-dark">
            <div class="text-secondary">ðŸ‘‘ Leader abonnÃ©s</div>
            <h5 class="mt-2">{{ stats.top_subscriber.channel_name }}</h5>
            <div class="text-secondary" style="font-size: 1.5rem;">{{ (stats.top_subscriber.subscribers / 1000000)|int }}M</div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card-dark">
            <div class="text-secondary">ðŸ”¥ Leader vues</div>
            <h5 class="mt-2">{{ stats.top_views.channel_name }}</h5>
            <div class="text-secondary">
                {{ "{:,}".format(stats.top_views.total_views) }} vues
            </div>
        </div>
    </div>

</div>

<!-- ACTION BUTTONS -->
<div class="row g-3 mb-5">

    <div class="col-md-3">
        <a href="/top10" class="btn btn-red w-100 py-3">Top 10</a>
    </div>

    <div class="col-md-3">
        <a href="/channels" class="btn btn-outline-light w-100 py-3">Toutes les chaÃ®nes</a>
    </div>

    <div class="col-md-3">
        <a href="/insights" class="btn btn-outline-light w-100 py-3">Insights</a>
    </div>

    <div class="col-md-3">
        <a href="/stats" class="btn btn-outline-light w-100 py-3">Statistiques</a>
    </div>

</div>

<!-- INFO SECTION -->
<div class="card-dark">
    <h4 class="mb-3">Ã€ propos du projet</h4>
    <p class="text-secondary">
        Application de data engineering affichant les donnÃ©es scrapÃ©es depuis vidiq.com.
        Pipeline : Scraping â†’ MongoDB â†’ API Flask â†’ Dashboard analytics.
    </p>

    <ul class="text-secondary">
        <li>Classement mondial</li>
        <li>Analyse abonnÃ©s & vues</li>
        <li>Insights sur performance</li>
    </ul>
</div>

{% endblock %}